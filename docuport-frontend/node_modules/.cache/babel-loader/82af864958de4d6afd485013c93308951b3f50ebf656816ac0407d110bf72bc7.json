{"ast":null,"code":"// src/api/axiosInstance.js\nimport axios from 'axios';\nconst axiosInstance = axios.create({\n  baseURL: 'http://localhost:8000',\n  // your Django backend\n  withCredentials: true,\n  // send cookies for session-based login\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\nexport default axiosInstance;\nconst handleLogin = async e => {\n  e.preventDefault();\n  try {\n    const res = await axiosInstance.post('/login/', {\n      email,\n      password\n    });\n    alert('Login successful');\n    onLogin(res.data.user_id); // Call the login handler\n    navigate('/dashboard'); // Redirect after login\n  } catch (err) {\n    alert('Login failed');\n  }\n};","map":{"version":3,"names":["axios","axiosInstance","create","baseURL","withCredentials","headers","handleLogin","e","preventDefault","res","post","email","password","alert","onLogin","data","user_id","navigate","err"],"sources":["D:/Web/docuport-git/docuport-frontend/src/api/axiosInstance.js"],"sourcesContent":["// src/api/axiosInstance.js\r\nimport axios from 'axios';\r\n\r\nconst axiosInstance = axios.create({\r\n  baseURL: 'http://localhost:8000', // your Django backend\r\n  withCredentials: true,            // send cookies for session-based login\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  }\r\n});\r\n\r\nexport default axiosInstance;\r\n\r\n\r\nconst handleLogin = async (e) => {\r\n  e.preventDefault();\r\n  try {\r\n    const res = await axiosInstance.post('/login/', { email, password });\r\n    alert('Login successful');\r\n    onLogin(res.data.user_id);  // Call the login handler\r\n    navigate('/dashboard');     // Redirect after login\r\n  } catch (err) {\r\n    alert('Login failed');\r\n  }\r\n};\r\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,aAAa,GAAGD,KAAK,CAACE,MAAM,CAAC;EACjCC,OAAO,EAAE,uBAAuB;EAAE;EAClCC,eAAe,EAAE,IAAI;EAAa;EAClCC,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;AAEF,eAAeJ,aAAa;AAG5B,MAAMK,WAAW,GAAG,MAAOC,CAAC,IAAK;EAC/BA,CAAC,CAACC,cAAc,CAAC,CAAC;EAClB,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMR,aAAa,CAACS,IAAI,CAAC,SAAS,EAAE;MAAEC,KAAK;MAAEC;IAAS,CAAC,CAAC;IACpEC,KAAK,CAAC,kBAAkB,CAAC;IACzBC,OAAO,CAACL,GAAG,CAACM,IAAI,CAACC,OAAO,CAAC,CAAC,CAAE;IAC5BC,QAAQ,CAAC,YAAY,CAAC,CAAC,CAAK;EAC9B,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZL,KAAK,CAAC,cAAc,CAAC;EACvB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}